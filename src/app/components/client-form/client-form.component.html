<button (click)="goBack()" class="btn btn-outline-danger">Regresar</button>
<!-- Row -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header card-header-icon card-header-info">
        <div class="card-icon">
          <i class="fa fa-user fa-2x" aria-hidden="true"></i>
        </div>
        <h4 class="card-title">Información del cliente</h4>
      </div>
      <div class="card-body">
        <form
          #f="ngForm"
          autocomplete="off"
          [formGroup]="clientForm"
          (ngSubmit)="guardar(f)"
        >
          <div class="row">
            <div class="col-md-6">
                <mat-form-field>
                    <mat-label>Nombre(s)</mat-label>
                    <input
                  type="text"
                  id="firstName"
                  formControlName="name"
                  [class.is-invalid]="isValid('name')"
                  matInput
                />
                </mat-form-field>
            </div>
            <!--/span-->
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Apellidos</mat-label>
                    <input
                      type="text"
                      id="lastName"
                      formControlName="lastname"
                      [class.is-invalid]="isValid('lastname')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <!--/span-->
          </div>
          <!--/row-->
          <div class="row">
            <div class="col-md-3">
                <mat-form-field class="example-full-width">
                    <mat-label>Teléfono</mat-label>
                    <input
                      type="number"
                      formControlName="tel1"
                      [class.is-invalid]="isValid('tel1')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <mat-form-field class="example-full-width">
                    <mat-label>Teléfono adicional</mat-label>
                    <input
                      type="number"
                      formControlName="tel2"
                      [class.is-invalid]="isValid('tel2')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <!--/span-->
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Correo electrónico</mat-label>
                    <input
                      type="email"
                      formControlName="email"
                      [class.is-invalid]="isValid('email')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <!--/span-->
          </div>
          <!--/row-->
          <div class="row">
            <div class="col-md-12">
                <label class="h5">Servicio</label>
            </div>
        </div>
          <div class="row" formGroupName="service">
            <div class="col-md-3">
                <mat-form-field class="example-full-width">
                    <mat-select
                      placeholder="Día de servicio"
                      formControlName="day"
                      [class.is-invalid]="isValid('service.day')"
                      tabindex="1"
                    >
                      <mat-option value=1>Lunes</mat-option>
                      <mat-option value=2>Martes</mat-option>
                      <mat-option value=3>
                        Miércoles
                      </mat-option>
                      <mat-option value=4>Jueves</mat-option>
                      <mat-option value=5>Viernes</mat-option>
                      <mat-option value=6>Sábado</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <!--/span-->
            <div class="col-md-3">
                <mat-form-field class="example-full-width">
                    <mat-label>Importe</mat-label>
                    <input
                      type="number"
                      formControlName="cost"
                      [class.is-invalid]="isValid('service.cost')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <div class="col-md-6">
              <div class="row">
                <div class="col-12">
                  <mat-radio-group formControlName="period" class="d-flex justify-content-around">
                      <mat-radio-button (click)="changePeriod()" [checked]="clientForm.get('service.period').value === 'mensual'" value="mensual">Mensual</mat-radio-button>
                      <mat-radio-button (click)="changePeriod()" [checked]="clientForm.get('service.period').value === 'bimestral'" value="bimestral">Bimestral</mat-radio-button>
                      <mat-radio-button (click)="changePeriod()" [checked]="clientForm.get('service.period').value === 'anual'" value="anual">Anual</mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
              <div *ngIf="clientForm.get('service.period').value == 'bimestral'" class="row">
                <div class="col-12">
                  <mat-form-field class="example-full-width">
                    <mat-select
                      placeholder="Mes de cobro"
                      formControlName="type"
                      [class.is-invalid]="isValid('service.type')"
                      tabindex="1"
                    >
                      <mat-option value="par">Mes par</mat-option>
                      <mat-option value="inpar">Mes inpar</mat-option>
                    </mat-select>
                </mat-form-field>
                </div>
              </div>
              <div *ngIf="clientForm.get('service.period').value == 'anual'" class="row">
                <div class="col-12">
                  <mat-form-field class="example-full-width">
                    <mat-select
                      placeholder="Mes de cobro"
                      formControlName="type"
                      [class.is-invalid]="isValid('service.type')"
                      tabindex="1"
                    >
                      <mat-option value="enero">Enero</mat-option>
                      <mat-option value="febrero">Febrero</mat-option>
                      <mat-option value="marzo">Marzo</mat-option>
                      <mat-option value="abril">Abril</mat-option>
                      <mat-option value="mayo">Mayo</mat-option>
                      <mat-option value="junio">Junio</mat-option>
                      <mat-option value="julio">Julio</mat-option>
                      <mat-option value="agosto">Agosto</mat-option>
                      <mat-option value="septiembre">Septiembre</mat-option>
                      <mat-option value="octubre">Octubre</mat-option>
                      <mat-option value="noviembre">Noviembre</mat-option>
                      <mat-option value="diciembre">Diciembre</mat-option>
                    </mat-select>
                </mat-form-field>
                </div>
              </div>
            </div>
            <!--/span-->
          </div>
          <!--/row-->
          <div class="row">
              <div class="col-md-12">
                  <label class="h5">Dirección</label>
              </div>
          </div>
          <div class="row" formGroupName="address">
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Calle</mat-label>
                    <input
                      type="text"
                      formControlName="street"
                      [class.is-invalid]="isValid('address.street')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <div class="col-md-1">
                <mat-form-field class="example-full-width">
                    <mat-label>#</mat-label>
                    <input
                      type="text"
                      formControlName="no"
                      [class.is-invalid]="isValid('address.no')"
                      matInput
                    />
                </mat-form-field>
            </div>
            <div class="col-md-5">
                <mat-form-field class="example-full-width">
                    <mat-label>Colonia</mat-label>
                    <input
                      type="text"
                      formControlName="colony"
                      [class.is-invalid]="isValid('address.colony')"
                      matInput
                    />
                </mat-form-field>
            </div>
            
          </div>
          <div *ngIf="cliente.id" class="text-muted">
           <div class="row">
             <div class="col-md-4">
               Fecha de ingreso: 
               {{cliente.registerDate?.toDate() | date}}
             </div>
             <div *ngIf="!cliente.active" class="col-md-4">
              Fecha de cancelación: 
              {{cliente.cancelDate | date}}
             </div>
           </div>
          </div>
         
          <div class="form-actions">
            <button type="submit" class="col-md-3 btn btn-success">
              <i class="fa fa-check"></i> Guardar
            </button>
            <button *ngIf="cliente.id && cliente.active === true" type="button" (click)="cancelarCliente()" class="col-md-1 btn btn-inverse btn-outline-danger"><i class="fa fa-user-times" aria-hidden="true"></i></button>
            <button *ngIf="cliente.id && cliente.active === false" type="button" (click)="activarCliente()" class="col-md-1 btn btn-inverse btn-info"><i class="fa fa-user-check"></i></button>
            <div class="col-md-3">
              <div class="form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" formControlName="printq"> Añadir a cola de impresión
                  <span class="form-check-sign">
                    <span class="check"></span>
                  </span>
                </label>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- Row -->
<!-- <div class="row">
  <div class="col-md-12">
      <label class="h5">Primer nota</label>
  </div>
</div>
<div class="row">
  <div class="col-md-3">
    <mat-form-field>
      <mat-label>Importe</mat-label>
      <input type="text" [class.is-invalid]="importeValid()" matInput (formControl)="importeInicial">
    </mat-form-field>
  </div>
</div> -->